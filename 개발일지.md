[toc]

# 개발일지

## 1. 맡은 분야

Front-End

- Community

## 2. 기술 스택

React

- Redux
  - Redux-toolkit

- React-router-dom
- axios

Styled-component

Typescript

Javascript

CK-editor



## 3. 매일 개발일지

### - 22.07.25

- 진행사항

  - 커뮤니티 전체 구조 파악 및 component 생성

- 오류 해결과정

  없음

  

- 결과

  ![image-20220728103642613](https://user-images.githubusercontent.com/97648271/186657802-2665af1a-40bd-4aa1-b414-3242a2244b0f.png)

  

### - 22.07.26

- 진행사항

  - 커뮤니티 전체  component 정리 완료
  - 커뮤니티 자유게시판 글  list 부분 레이아웃 생성
  - 커뮤니티 자유게시판 및 다양한 곳에 사용할 Modal 생성

  

- 오류 해결과정

  - NormalPostFrame.tsx  component가 Community.tsx page 에 적용되지 않는 오류

    ```react
    function NormalPostFrame(dummyPost: Post){
        return(
            <PostContainer>
               {PostList(dummyPost)}
            </PostContainer>
        );
    }
    ```

    `NormalPostFrame` 속 인자가 아무것도 필요하지 않은데 `dummypost: Post` 라는 인자를 넣어서 생긴 오류

    ```react
    function NormalPostFrame(){
        return(
            <PostContainer>
               {PostList(dummyPost)}
            </PostContainer>
        );
    }
    ```

    다음과 같이 해결했음

- 결과

  ![image-20220728104342896](https://user-images.githubusercontent.com/97648271/186657896-c4d734ae-74d3-4e64-b722-1f74185bb315.png)

  ![image-20220728104423474](https://user-images.githubusercontent.com/97648271/186657954-2edeec3d-d891-4755-97ba-0c06f06f2bca.png)

### - 22.07.27

- 진행사항

  - Community.tsx page에 생각한 component들 모두 띄우기
  - 앞서 띄운 component 들의 layout 대략적으로 작성하기
  - Post CRUD 중 C 생성
    1. 글쓰기 버튼 누르면 글 쓰는 Modal로 연결
    2. ck-editor 연동
    3. Modal 창 내부 input, ck-editor 데이터 받아오기

- 오류 해결과정

  - CK-editor package가 적용되지 않는 오류

    결과론적으로 .tsx 확장자를 가진 파일에서는 사용할 수 없는 것 같음

    (typescript용 package를 따로 받아봤지만 여전히 사용할 수 없었음)

    따라서 `PostEditor.tsx` 를 `PostEditor.jsx`  로 바꿔 사용하니 잘 사용할 수 있었음
    
  - Post CRUD 중 C를 진행하고 데이터를 받아왔는데 부모-자식 component 관계가 아닌 다른 component에 데이터를 전달하는 것이 안 되는 오류 (상황파악)

    기본적으로 react는 부모-자식 component 간 데이터 이동만 **단방향** 으로 가능하기에 현재 구조에서는 단순 부모-자식 데이터 이동을 가지고서는 해결하기 어려움

    --> 두 번의 데이터 이동을 거치면 되지만 번거로움

    따라서 Redux를 통해 데이터를 **전역 state** 인 **store** 에서 관리하고 그것을 꺼내오는 방향으로 해결할 예정

- 결과

  ![image-20220728113706066](https://user-images.githubusercontent.com/97648271/186658015-de460cf9-b226-4e24-85f0-341815faf186.png)

​		![image-20220728114426390](https://user-images.githubusercontent.com/97648271/186658066-67d7a7b3-ed80-4c63-814c-f81261177a29.png)

![image-20220728114522905](https://user-images.githubusercontent.com/97648271/186658129-ddd84e48-0e12-419a-adf1-41821352d525.png)

### - 22.07.28

- 진행상황
  - Post CRUD C 데이터 전달 완료하여 Community page에 데이터 잘 들어오는 지 확인
    - redux 활용하여 전달할 예정
  - Post Detail page 작성
    - layout 생성 (댓글 부분까지)
    - (가능하면) Comment CRD 중 C, R
  
- 오류 해결과정
  - Post CRUD 중 C를 진행하고 데이터를 받아왔는데 부모-자식 component 관계가 아닌 다른 component에 데이터를 전달하는 것이 안 되는 오류 
  
    아직 해결하지 못했다....
  
    하지만 Redux-toolkit 활용하여 전역 `state` 에 데이터를 넣는 방법은 알았기에 그 방법으로 내일 해결할 예정
  
- 결과

  없음



### - 22.07.29

- 진행상황

  - Post CRUD C 데이터 전달 완료하여 Community page에 데이터 잘 들어오는 지 확인

    글쓰기 버튼 눌렀을 때 그 때의 데이터는 받아오는 것 성공

    이제 이 데이터를 바로 NormalPostFrame 에 넣는 게 아닌 어떠한 Array에 데이터를 추가하는 방식으로 바꿔야 함

    이건 DB 받아오고 진행하기로 결정

  - Post CRUD R : Modal 띄워서 세부 내용 확인하기 --> PostDetail.tsx

    - Modal 띄우기: 성공 but 전체 화면에 가득 차야할 Modal이 좀 작은 범위에서 실행되는 문제

      아마 Community.tsx에서 띄운 게 아니라 그런 것 같은데 다음에 수정해야 할 사항임

    - Modal 내부에 PostDetail 띄우고 대략적인 layout 생성 

- 오류 해결과정

  - Post CRUD 중 C를 진행하고 데이터를 받아왔는데 부모-자식 component 관계가 아닌 다른 component에 데이터를 전달하는 것이 안 되는 오류

    1.  Redux 자체 이해의 부족

       ```react
       const postHandler = (event) => {
               event.preventDefault();
               console.log(post)
               dispatch(normalPostActions.saveNormalPost())
       ```

       dispatch 할 때 `saveNormalPost`에 아무것도 담지 않고 보냈으니 계속 

       ![image-20220729132254237](https://user-images.githubusercontent.com/97648271/186658244-9d3453ee-1ef3-46c1-9b1c-180480672876.png)

       이런 오류가 발생했다.... 당연한 건데

       내가 미리 정해놓은

       ```javascript
         saveNormalPost(state, action) {
                   console.log(action)
                   state.post_title = action.payload.post_title;
                   state.post_content = action.payload.post_content;
                   state.post_upd_date = action.payload.post_upd_date;
                   
               },
       ```

       에서 state에 저장할 녀석들에 대해 인자로 받아와야 하는 것이었다!!

       따라서

       ```react
       const postHandler = (event) => {
               event.preventDefault();
               console.log(post)
               dispatch(normalPostActions.saveNormalPost({post_title: post.post_title, post_content: post.post_content, post_upd_date: post.post_upd_date}))
       ```

       이런 식으로 인자를 받아서 dispatch 하니 해결!

    2. javascript 문법 중 "객체 구조 분해 할당" 때문에 시간이 걸림

       input 값을 받아오려고 하는 중 발생한 문제

       ```react
       const getValue = e => {
               const {value} = e.target;
              
               setPost((prev) => ({
                   ...prev,
                   [value.name] : value.value
               }));
           };
       ```

       이런 식으로 적으니 값이 안 받아와지는 것이다!

       알고보니 javascript "객체 구조 분해 할당" 문제였음

       쉽게 말해서 위의 e.target 안에는 value도 있고 name도 있는 상황인데 그것을 미리 불러서 사용하기 위해서는 먼저 선언을 한 후에 사용을 해야한다는 것임

       위에서는 `{value}`  만 정의하여 아래의 value.value 에는 문제가 없을 것이나 옆에 있는 [value.name] 같은 경우에는 현재 `name`이라는 이름의 분해 할당된 요소가 없기 때문에 value.name은 undefined 가 뜰 것임

       따라서

       ```react
       const getValue = e => {
               const {name,value} = e.target;
              
               setPost((prev) => ({
                   ...prev,
                   [name] : value,
                   // [e.target.name]: e.target.value
               }));
           };
       ```

        이런 식으로 작성해야됨

       (위의 `const` 부분, `[name]: value` 부분 지우고 주석처리 코드로 작성해도 무방함)

  - useRef 사용?

    

- 결과

![image-20220730033543551](https://user-images.githubusercontent.com/97648271/186658311-a470fd65-8fcf-46b4-937e-f48c776263f5.png)

![image-20220730033602418](https://user-images.githubusercontent.com/97648271/186658382-fdd388b8-95bd-4121-9951-c51e72fd6279.png)



![image-20220730033639714](https://user-images.githubusercontent.com/97648271/186658470-5d341222-d2e2-41a1-b306-874709a8e773.png)



### - 22.07.30

- 진행상황

  - PostDetail 부분 레이아웃 수정
  - PostDetail 부분 댓글 C,R 작성 및 확인

- 오류 해결과정

  없음

- 결과

![image-20220801235338292](https://user-images.githubusercontent.com/97648271/186658771-ae36afd8-13b3-41df-b2f5-c8a857f72cad.png)

![image-20220801235512652](https://user-images.githubusercontent.com/97648271/186658827-8caca28d-9588-4790-a8bf-daae1d6a2863.png)

![image-20220801235537743](https://user-images.githubusercontent.com/97648271/186658872-9066db2b-c8e4-4b7a-a444-5c9b03c71066.png)



### - 22.07.31

- 진행상황

  - 지금까지 한 FrontEnd 파일 배포 시도 but....

- 오류 해결과정

  - 배포 과정 및 오류 일어난 부분 해결 히도과정

    1. 로컬 환경에서 dockerfile 생성하고 코드 작성하기

       ```dockerfile
       # node 설치 후 yarn 도 설치
       FROM node:16.16.0 as builder
       
       RUN mkdir /app
       WORKDIR /app
       
       RUN npm install yarn
       # root 에 app 폴더를 생성
       
       # work dir 고정
       # package.json 에 있는 것들 install 
       ENV PATH /app/node_modules/.bin:$PATH
       COPY package.json /app/package.json
       RUN yarn install --silent
       RUN yarn global add react-scripts@5.0.1 -g --silent
       
       # 소스를 작업폴더로 복사하고 빌드
       COPY . /app
       RUN yarn run build
       
       
       
       # 3001 포트 오픈
       EXPOSE 3001
       
       # container 실행 시 자동으로 실행할 것
       CMD ["yarn",  "start"]
       
       ```

    2. docker build 해서 파일 생성

    3. docker hub에 push

    4. AWS EC2 ubuntu 서버에 docker 설치 후 hub에 올린 image pull

    5. AWS ECW ubuntu 서버에 nginx 설치 

    6. ***nginx 에 port 연결해서 docker run*** 

       - 여기서 오류가 발생!

       - `500 Internet Server Error`

       - 이후 한 것 정리

         - Number 1: .conf 파일 수정

           - nginx.conf 수정

             `$ sudo vi /etc/nginx/nginx.conf`

             ```
             include /etc/nginx/conf.d/*.conf;
             (✨ 코드 추가) include /etc/nginx/sites-enabled/*.conf;
             ```

           - sites-available, sites-enabled 설정

             ```
             $ sudo mkdir /etc/nginx/sites-available
             $ sudo mkdir /etc/nginx/sites-enabled
             $ sudo vi /etc/nginx/sites-available/setting.conf
             ```

             ```
             server {
               listen 80;
               location / {
                 root /home/ec2-user/gusxosmsdy/gtpjt-front_end/build;
                 index index.html index.htm;
                 try_files $uri $uri/ /index.html;
               }
             }
             ```

             ---> 문제 발생!

             root 경로를 보면 /home/ec2-user/~~~ 로 되어있는데 우리 서버에는 /home/ec2-user 가 존재하지 않았다!

         - Number 2: setting.conf 다르게 설정

           ```
           server {
             listen 80;
             location / {
                   proxy_set_header X-Real-IP $remote_addr;
                   proxy_pass http://127.0.0.1:3001/;
                   proxy_redirect off;
               }
           }
           ```

           이렇게 해도  안 됐다!

           

         - Number 3: 포트 변경하기

           현재 nginx가 80포트를 차지하고있는 상태

           80포트를 비워준 후(nginx를 종료시킨 후) 그 포트를 docker가 사용하도록 함

           하지만 되지 않았다!

           `500 Internet Server Error` 도 뜨지 않아 원상복구를 시켰는데 (nginx가 80포트, docker는 다른 포트)

           `500 Internet Server Error` 가 아닌 `502 Bad Gateway`  가 발생했다....

           이후 위에 서술한 과정 반복하다가 지쳐서 일단 보류....

         - Number 4: 포트 번호가 안 맞아서 포트 번호 맞춰서 다시 시도

           위에서 설정한

           `EXPOSE 3001` 랑 `docker run --name [이름] -p  [포트]:[포트] [dockerhub image 주소]` 의 포트 번호를 맞추기로 함

           `docker run --name [이름] -p 80:3001 ~~~ ` 이런 식으로 작성하여 진행

           그랬더니 `yarn start` 까지는 실행됐는데 여기서 빠져나오질 못했다! 어떠한 명령어를 써도 빠져나올 수 없었다!

           

       - 다음에 해보려고 한 것

         - `docker run --name [이름] -p 3001:3001 [dockerhub image 주소]` 로 하고 nginx의 `/etc/nginx/nginx.conf` 에서 server listen을 3001로 주고 location에서 proxy_pass를 `~~~~:3001` 로 줘 보려고 함

           하지만 다른 테스트 때문에 nginx를 지워야했기에 그리고 위에서 빠져나오는 것을 실패하였기에 눈물을 머금고.....

         

       - (기타) ubuntu 내에서 설치한 것들

         ```
         ----------------------------------
         [yum 관련]
         sudo apt install yum
         
         sudo apt install python-lzma
         
         sudo apt install python-sqlitecachec
         
         sudo apt install python-pycurl
         
         sudo apt install python-urlgrabbe
         ------------------------------------------
         sudo apt install nginx
         ------------------------------------------
         
         sudo apt-get install \
             apt-transport-https \
             ca-certificates \
             curl \
             gnupg-agent \
             software-properties-common
         ----------------------------------------------
         sudo apt-get install docker-ce 
         docker-ce-cli 
         containerd.io
         -----------------------------------------------
         sudo apt install net-tools
         ```

    

- 결과

  없음.....



### - 22.08.01

- 진행상황
  - Post 작성하는 부분 ck-editor data 에 html 태그 붙어 나오는 것 실제로 적용되도록 하기
  
    ```
    yarn add react-html-parser
    ```
  
    작성된 태그 형식의 글을 실제로 태그가 적용된 형태로 보여주기 위한 패키지 설치
  
    ```
    yarn add buffer
    ```
  
    위의 `react-html-parser` 을 사용하기 위해 `buffer` 패키지 또한 설치
  
    이후 코드수정
  
    ```react
    //PostDetail.jsx
    // 원래 코드
    
    ...
    
     <div style={{border: "solid"}}>
                    {postContent}
     </div>
    
    ...
    ```
  
    ```react
    // 바꾼 코드
    
    import ReactHtmlParser from 'react-html-parser'
    
    ...
    
    <div style={{border: "solid"}}>
        {ReactHtmlParser(postContent)}
    </div>
    
    ...
    ```
  
    이렇게 하니 글자 부분 html 태그들은 무사히 다 들어가는 모습
  
    ***but 표 테두리가 보이지 않음***
  
    이미지 넣는 건 다음에 기능 추가할 예정
  
- 오류 해결과정

  없음

- 결과

![image-20220802103932537](https://user-images.githubusercontent.com/97648271/186659001-da20b167-ce7c-489f-a515-e0b6b262dd78.png)

![image-20220802103949470](https://user-images.githubusercontent.com/97648271/186659086-55eb93a6-96cb-481c-9a9d-effad4dc98b0.png)



### - 22.08.02

- 진행상황

  - 글 list 페이지에서 글 누르면 글 detail  modal 뜨는 것 오류 해결

  - 글 list  페이지 UI 개선

    - 우측 상단 검색 부분 UI 

      - 버튼 내부 회색 없애기

        `background-color : "transparent"`

      - 아이콘 위에 마우스 올렸을 때 마우스 포인터 모양 바뀌게하기 in styled-component

        ```react
        const SearchButton = styled.button`
        border: 0;
        backgroundColor: transparent;
        
        &:hover{  
           cursor: pointer
          }
        `
        ```

    - 폰트 크기 정하기

      (부끄럽지만 까먹어서 검색...)`font-size: "~~~"`

    - `NavBar` component 만들고 틀만 집어넣기

    - `NormalPostFrame.jsx` UI

      - UI 수정하던 도중 문제 발생

        : `Community.tsx` 에 있는 component 들을 `NormalPostFrame.jsx`  에 집어넣으니 onClick 이벤트를 통해 뜨는 Modal 창의 범위가 `NormalPostFrame.jsx` 가 차지하는 범위로 좁아짐

        - 해결방안

          (연수방법)

          `<> </>` 를 이용해서 Modal 부분을 바깥으로 빼자!

          `NormalPostFrame.jsx`  에서 `return( )` 부분의 시작을 `<>` 로 하여 

          `<> 원래 있던 것 / Modal </>` 이런 식으로 Modal 부분을 바깥으로 빼주니 해결되었다!

      - 또 문제 발생
        - 각각의 글 영역을 클릭할 시 Modal이 나오도록 했는데 실제로는 글 영역보다 넓은 부분에 onClick 이벤트가 들어감
        - 중요한 부분은 아니라 일단 넘어가기로
      - 나머지 부분은 수정 완료

    - `Category.tsx` UI

      - 문제 발생

        : 밖에서 style 정의해서 안에다가 끌어쓰는 방법 사용 도중 `flexDirection: ~~` css 가 먹히지 않음

      - 해결방법

        ```react
        const noClickStyle: React.CSSProperties = {
                    display: "flex",
                    flexDirection: "row",
                    justifyContent: "flex-start",
                    border: "1px solid",
                    borderRadius: "0 15px 15px 0",
                    width: "180px",
                    height: "60px",
                    margin: "15px 0 0 40px",
                    boxShadow: "3px 3px 3px grey"
                    
                }
        ```

        Typescript 에서는 css를 외부에서 작성 후 끌어다쓰려고할 때 `React.CSSProperties` 를 붙여야 한다!

      - 공백 넣어주려고 할 때

        `&nbsp;` 를 넣어준다!

      - 카테고리 선택 시 선택된 것 따로 css 적용시키기

        현재 사용하고 있는 `react-router-dom` 의 `NavLink` 를 활용한다.

        또한 현재 어떤 카테고리를 선택하고 있는지에 대한 state도 받아서 활용한다.

        ```react
         const [changeCss, setChangeCss] = useState(0);
         const onChangeCss = (num: number) => (event: React.MouseEvent<Element, MouseEvent>) :void => {
                event.preventDefault();
                setChangeCss(num)
            }
        ```

        state를 활용하기 위해 만든 코드이다.

        ```react
        const StyledLink = styled(NavLink)`
            text-decoration: none;
            color: black;
            font-weight: bold;
            font-size: large;
            &:focus, &:visited {
                text-decoration: none;
            }
            &:link {
                transition : 0.5s;
                text-decoration: none;
              }
              &:hover {
                color: aquamarine;
              }
              &.active {
                color: aqua;
                
              }
        `;
        ```

        `NavLink` 를 커스텀하여 사용한 `StyledLink` 이다.

        ```react
         <StyledLink to="/community/1" onClick={onChangeCss(1)}>
                                     <div key={i} style={changeCss === 1 ? clickStyle : noClickStyle}>
                                        <div style={changeCss === 1 ? null : purpleBar }></div>
                                        <div style={{display: "flex", flexDirection: "row", justifyContent: "center", alignItems: "center", margin: "0 0 0 20px"}}>
                                            <CampaignIcon/>
                                            &nbsp; &nbsp;
                                            {dummyCategory.category_id[i]}
            
                                        </div>
                                    </div>
                                </StyledLink>
        ```

        `StyledLink` 를 이용하여 짠 코드이다. `onClick` 이벤트를 통해 값을 state에 보내주고 그 값을 토대로 `changeCss` 값이 바뀌는데 그것을 기점으로 css값을 변동시켰다.

      - 아직 남은 문제들

        - 한 카테고리를 선택할 시 크기가 커지는 데 그 크기만큼 전체 카테고리가 뒤로 밀려나는 현상
        - 주소가 바뀌지 않는 현상?? link 주소를 연결시켜놨는데 바뀌지 않는다

- 오류 해결과정

  - 글 list 페이지에서 컨테이너 아무 곳을 눌러도 글 detail  modal 뜨는 문제

    onClick 이벤트가 컨테이너 전역에 설정되어있어서 글 부분이 아닌 어디를 눌러도 글 detail 모달이 나오는 문제가 발생함

    해당 이벤트를 글들의 집합 component인 `NormalPostFrame.jsx` 로 옮기니 해결!...인 듯 했으나 부모 component인 `community.tsx` 에서 실행되던 이벤트가 자식 component로 옮겨지니 modal 창 뜨는 곳이 현재 화면 전체가 아닌 container 내부로 한정되어버림(자식 component 할당 부분만)

    이 문제는 바깥에 있는 openModal 관련 것들을 자식 component로 데리고 와 거기서 실행시키느 해결됨

  - ck-editor table 태그 태두리 안 보이는 문제

- 결과

![image-20220803024754040](https://user-images.githubusercontent.com/97648271/186659265-0ddef08f-027b-49ab-b4bc-62f3a6201131.png)

![image-20220803024808850](https://user-images.githubusercontent.com/97648271/186659335-d9fca1b5-44a2-495c-8002-78243f280286.png)

![image-20220803024722268](https://user-images.githubusercontent.com/97648271/186659440-3b3c24cd-db8a-4385-b940-8855b02cbe9f.png)



### - 22.08.03

- 진행상황

  - 한 카테고리를 선택할 시 크기가 커지는 데 그 크기만큼 전체 카테고리가 뒤로 밀려나는 현상 해결

    모든 카테고리를 덮고 있는 `div` 에 `justifyContent: "flex-end"` 로 하여 해결

  - 설정해놓은 주소로 바뀌지 않는 현상 해결? 처리

    그냥 url은 똑같이 `/community` 로 해 놓고 각 카테고리를 클릭할 시 그 카테고리의 id를 받아와 사용하기로 함

  - BE 와 통신 준비

    - `axios` 하는 법 공부
  
- 오류 해결과정

  없음

- 결과

![image-20220804093731371](https://user-images.githubusercontent.com/97648271/186659513-de10fe9f-b9a6-4d18-9096-d52e14142cb9.png)

![image-20220804093746639](https://user-images.githubusercontent.com/97648271/186659549-d06fd9d4-d675-4f00-9668-ea11fcefcf90.png)

![image-20220804093757278](https://user-images.githubusercontent.com/97648271/186659636-a014afe4-de90-4b68-b9b2-8960afbf423f.png)

### - 22.08.04

- 진행상황

  - BE와 글 작성/ 글 불러오기 통신 

    - 연수 코드 활용하여 통신 되는 것은 확인

      ```react
      const signSubmit = useCallback(
        async (e) => {
          e.preventDefault();
          try {
            await axios
              .post(
                "http://localhost:8081/post/write",
                {
                  postId : null,
                  postTitle : "ㅎㅇ",
                  postContent : "이현태도 왔다감",
                  postRegDate : null,
                  postUpdDate : null,
                  user_id : 1234125,
                  category_id : 12351235
                },
                {
                  headers: {
                    "Content-type": "application/json",
                  },
                }
              )
              .then((res) => {
                console.log("response:", res);
                if (res.status === 200) {
                  document.location.href = "/login";
                }
      
              });
          } catch (err) {
            
          }
        },
        
      );
      ```

      이 코드를 기반으로 `createAsyncThunk`  함수 활용하여 custom 할 것

      하지만 실패....

      일단 연수 방법으로 DB에 데이터 넣는 것은 성공!

  - 글 list page 부분 색 넣기 및 디자인 마무리

    하지만 마무리가 아니었으니....

    브라우저 100% 사이즈에 맞춰서 제작했어야했는데 그러지 않아서 사이즈가 안 맞는 것들이 꽤나 많이 발생했다!

    그것들 다 고치느랴고 시간 허비함

    - 배경 이미지 적용에서 애먹음....

      전체 화면 채우는 걸로 해놨는데 자꾸만 비는 곳이 생김

      알고보니 설정한 이미지에 애초에 빈 부분이 포함되어있던 것

      그거 자르고 다시 적용해보니 적용 완료...!

      --> 배경 이미지 적용할 시에 사용할 이미지가 동서남북 완벽하게 채워진 이미지인지 꼭 확인하자!
      
      - 이미지 수정할 시`ctrl + F5` 로 확인해야한다 (캐시에 저장된 것까지 새로고침)

  - 글 작성 page UI

    - 글자에 그라데이션 적용하기

      ```
      background: ${palette.main_grBlue};
      color: transparent;
      -webkit-background-clip: text;
      ```

      이 세 가지 속성을 넣어준다.

      (background 는 custom 하여 만든 그라데이션 색상을 넣어놓은 상황)

    - `input` 태그 테두리 안 보이게 하기

      `outline: none` 설정하면 된다. 상황 별로 사용 가능(:hover 등)

  - 수업실 페이지 UI

    - 그냥은 만들기 힘들 것 같아 인터넷에서 받아와서 한 번 적용해봄

      --> 일단은 잘 됨

- 오류 해결과정

  - 글 list 페이지에서 글 하나하나 `onclick` 이벤트가 발생해야하는데 상위 `div` 에 `onclick` 이벤트가 설정되어있어 개별로 적용되지 못하는 문제

    아직 해결못함

    방법 세 가지 생각중

    - component를 나눠서 부모-자식 간 props를 통해 state 전달
    - class state를 활용
    - 원래 하던 방식에서 어떻게 해서 두 함수에서 같은 state 사용하도록 함

- 결과

![image-20220805022314492](https://user-images.githubusercontent.com/97648271/186659697-8b15a058-17ce-4963-b342-b90503694959.png)

![image-20220805022522378](https://user-images.githubusercontent.com/97648271/186659729-c12dd19f-fa62-4191-9e1c-4093ee99d397.png)

![image-20220805022544807](https://user-images.githubusercontent.com/97648271/186659799-7058e70a-7f7e-4c53-a85c-332dbdcc5277.png)

![image-20220805030902235](https://user-images.githubusercontent.com/97648271/186659839-9ee59930-9d97-4846-a52b-15576ca2882b.png)



### - 22.08.05

- 진행상황

  - 어제 발생한 오류 해결

    - 글 list 페이지에서 글 하나하나 `onclick` 이벤트가 발생해야하는데 상위 `div` 에 `onclick` 이벤트가 설정되어있어 개별로 적용되지 못하는 문제

      원래 글을 가져오던 방식은 `result` 라는 `array` 에 json 파일 형식의 파일을 for문은 돌면서 하나하나 `push` 하는 방식

      but react 에서는 `.map` 함수를 활용하여 `array`에 있는 것들을 꺼내올 수 있음

      따라서 그런 방식으로 코드 refactoring

      또한 `useState` 값 받아오는 건 props로 해결

      --> 한 파일 내에서도 props 가능! 아직 익숙하지 않아서 이런 사고를 못 한 나 반성해....

      ```react
      // 원래 방식
      
      function NormalPostList() {
          const dummyPost = {
            post: [
              {
                  user_id : '이현태',
                  post_id : 1,
                  post_title : "아아아아아아아아아아",
                  post_content : "222222222222222222222222",
                  post_req_date : "2022-07-28 11:14",
                  post_upd_date : "2022-07-28 11:15",
                  post_ano_info : 0,
                  post_com_ban_info : 0,
              },
              {
                  user_id : '정진',
                  post_id : 2,
                  post_title : "오오오오오옹오옹오오오옹오",
                  post_content : "3333333333333333333333333333",
                  post_req_date : "2022-07-28 11:14",
                  post_upd_date : "2022-07-28 11:15",
                  post_ano_info : 0,
                  post_com_ban_info : 0,
              },
              {
                  user_id : '김연수',
                  post_id : 3,
                  post_title : "이이이잉이이이이이이이이이이이이이이",
                  post_content : "44444444444444444444444444444",
                  post_req_date : "2022-07-28 11:14",
                  post_upd_date : "2022-07-28 11:15",
                  post_ano_info : 0,
                  post_com_ban_info : 0,
              },
              {
                user_id : '김연수',
                post_id : 3,
                post_title : "이이이잉이이이이이이이이이이이이이이",
                post_content : "44444444444444444444444444444",
                post_req_date : "2022-07-28 11:14",
                post_upd_date : "2022-07-28 11:15",
                post_ano_info : 0,
                post_com_ban_info : 0,
            }
            ],
          };
        
          const postTitle = useSelector((state) => state.normalPost.post_title);
          const postContent = useSelector((state) => state.normalPost.post_content);
          const postUpdDate = useSelector((state) => state.normalPost.post_upd_date);
        
          dummyPost.post.push({
            post_title: postTitle,
            post_content: postContent,
            post_upd_date: postUpdDate,
          });
        
          const Rendering = () => {
            const result = [];
            const postStyle = {
              borderRadius: "30px",
              backgroundColor: palette.gray_1,
              width: "1150px",
              height: "90px",
              margin: "15px 0 0 50px",
              boxShadow: "2px 2px 2px grey"
            };
        
            for (let i = 0; i < dummyPost.post.length; i++) {
              result.push(
                <IndividualPost>
                  <div key={i} style={postStyle} onClick={onClickToggleModal2}>
                    <div
                      style={{
                        display: "flex",
                        justifyContent: "space-between",
                        alignItems: "flex-end",
                        padding: "10px 20px 0 "
                      }}
                    >
                      <div style={{fontSize: "20px", fontWeight: "bold"}}>
                        작성자: 이현태
                      </div>
                      {dummyPost.post[i]["post_upd_date"]}
                    </div>
                    <hr style={{width: "95%"}} />
        
                    <div style={{display: "flex",justifyContent: "space-between", alignItems: "center", padding: "0 20px" }}>
                      <div style={{fontSize: "20px", fontWeight: "bold"}}>
                        {dummyPost.post[i]["post_title"]}   
                      </div>
                      <div>
                      <FavoriteBorderIcon/> 24
                      &nbsp; &nbsp; &nbsp;
                      <ChatBubbleOutlineIcon/> 20
                      </div>
                    
                    </div>
                    
                  </div>
                </IndividualPost>
                
              );
            }
            return result;
          };
          return (
            <>
              {Rendering()}
            </>
          );
        }
      ///////////////////////////////////////////////////////////////////////////
        
      function NormalPostFrame() {
        const [isOpenModal2, setOpenModal2] = useState(false);
        const onClickToggleModal2 = useCallback(() => {
          setOpenModal2(!isOpenModal2);
          }, [isOpenModal2]);
        const [isOpenModal1, setOpenModal1] = useState(false);
        const onClickToggleModal1 = useCallback(() => {
          setOpenModal1(!isOpenModal1);
        }, [isOpenModal1]);
        const handleModal2 = () => {
          setOpenModal2((prev) => {
            return !prev
          }
          );
        }
        return (
          <>
            <PostContainer>
              <div style={{ display: "flex", justifyContent: "space-between" }}>
                <Title> 공지사항 or 질문 or 자유게시판 </Title>
                <div style={{ display: "flex", flexDirection: "row",  alignItems: "center", margin: "20px 140px 0 0" }}>
                  <SearchBar />
                  <WriteButton onClick={onClickToggleModal1}>
                    글쓰기
                  </WriteButton>
                </div>
              </div>
              <div id="1234">
                <PostList handleModal2={handleModal2} />
              </div>
            </PostContainer>
            {isOpenModal2 && (
              <Modal
                onClickToggleModal={onClickToggleModal2}
                width="1500px"
                height="800px"
              >
                <PostDetail />
              </Modal>
            )}
            {isOpenModal1 && (
              <Modal
                onClickToggleModal={onClickToggleModal1}
                width="1000px"
                height="850px"
              >
                <PostEditor />
              </Modal>
            )}
          </>
        );
      }
      ```

       ```react
       // 새로운 방식
       
       function PostList({handleModal2}) {
         const dummyPost = {
           post: [
             {
                 user_id : '이현태',
                 post_id : 1,
                 post_title : "아아아아아아아아아아",
                 post_content : "222222222222222222222222",
                 post_req_date : "2022-07-28 11:14",
                 post_upd_date : "2022-07-28 11:15",
                 post_ano_info : 0,
                 post_com_ban_info : 0,
             },
             {
                 user_id : '정진',
                 post_id : 2,
                 post_title : "오오오오오옹오옹오오오옹오",
                 post_content : "3333333333333333333333333333",
                 post_req_date : "2022-07-28 11:14",
                 post_upd_date : "2022-07-28 11:15",
                 post_ano_info : 0,
                 post_com_ban_info : 0,
             },
             {
                 user_id : '김연수',
                 post_id : 3,
                 post_title : "이이이잉이이이이이이이이이이이이이이",
                 post_content : "44444444444444444444444444444",
                 post_req_date : "2022-07-28 11:14",
                 post_upd_date : "2022-07-28 11:15",
                 post_ano_info : 0,
                 post_com_ban_info : 0,
             },
             {
               user_id : '김연수',
               post_id : 3,
               post_title : "이이이잉이이이이이이이이이이이이이이",
               post_content : "44444444444444444444444444444",
               post_req_date : "2022-07-28 11:14",
               post_upd_date : "2022-07-28 11:15",
               post_ano_info : 0,
               post_com_ban_info : 0,
           }
           ],
         };
       
         const postTitle = useSelector((state) => state.normalPost.post_title);
         const postContent = useSelector((state) => state.normalPost.post_content);
         const postUpdDate = useSelector((state) => state.normalPost.post_upd_date);
       
         dummyPost.post.push({
           post_title: postTitle,
           post_content: postContent,
           post_upd_date: postUpdDate,
         });
         return (
           <>
             <Rendering dummyPost={dummyPost} handleModal2={handleModal2} />
           </>
         );
       }
       
       ///////////////////////////////////////////////////////////////////////////
       const Rendering = ({ dummyPost, handleModal2 }) => {
       
         console.log(dummyPost);
           const result = [];
           const postStyle = {
             borderRadius: "30px",
             backgroundColor: palette.gray_1,
             width: "1150px",
             height: "90px",
             margin: "15px 0 0 50px",
             boxShadow: "2px 2px 2px grey"
         };
         return (
           <>
             {Object.keys(dummyPost.post).map((e, i) => (
               // <div key={i}>{dummyPost.post[e].user_id}</div>
             <IndividualPost key={i}>
               <div style={postStyle} onClick={handleModal2}>
                    <div
                     style={{
                       display: "flex",
                       justifyContent: "space-between",
                       alignItems: "flex-end",
                       padding: "10px 20px 0 "
                     }}
                   >
                     <div style={{fontSize: "20px", fontWeight: "bold"}}>
                       {dummyPost.post[e].user_id}
                     </div>
                     {dummyPost.post[e].post_upd_date}
                   </div>
                   <hr style={{width: "95%"}} />
       
                   <div style={{display: "flex",justifyContent: "space-between", alignItems: "center", padding: "0 20px" }}>
                     <div style={{fontSize: "20px", fontWeight: "bold"}}>
                       {dummyPost.post[e].post_title}   
                     </div>
                     <div>
                     <FavoriteBorderIcon/> 24
                     &nbsp; &nbsp; &nbsp;
                     <ChatBubbleOutlineIcon/> 20
                     </div>
                   
                   </div>
                   
                 </div>
             </IndividualPost>
             ))}
           </>
           )
         };
       ///////////////////////////////////////////////////////////////////////////////
       
       function NormalPostFrame() {
         const [isOpenModal2, setOpenModal2] = useState(false);
         const onClickToggleModal2 = useCallback(() => {
           setOpenModal2(!isOpenModal2);
           }, [isOpenModal2]);
         const [isOpenModal1, setOpenModal1] = useState(false);
         const onClickToggleModal1 = useCallback(() => {
           setOpenModal1(!isOpenModal1);
         }, [isOpenModal1]);
         const handleModal2 = () => {
           setOpenModal2((prev) => {
             return !prev
           }
           );
         }
         return (
           <>
             <PostContainer>
               <div style={{ display: "flex", justifyContent: "space-between" }}>
                 <Title> 공지사항 or 질문 or 자유게시판 </Title>
                 <div style={{ display: "flex", flexDirection: "row",  alignItems: "center", margin: "20px 140px 0 0" }}>
                   <SearchBar />
                   <WriteButton onClick={onClickToggleModal1}>
                     글쓰기
                   </WriteButton>
                 </div>
               </div>
               <div id="1234">
                 <PostList handleModal2={handleModal2} />
               </div>
             </PostContainer>
             {isOpenModal2 && (
               <Modal
                 onClickToggleModal={onClickToggleModal2}
                 width="1500px"
                 height="800px"
               >
                 <PostDetail />
               </Modal>
             )}
             {isOpenModal1 && (
               <Modal
                 onClickToggleModal={onClickToggleModal1}
                 width="1000px"
                 height="850px"
               >
                 <PostEditor />
               </Modal>
             )}
           </>
         );
       }
       ```

  - 글 detail 페이지 UI

    - 좋아요, 댓글 모음 아이콘 넣기, 좋아요 아이콘 누르면 색 바뀌도록

    - `hr` 태그 style 넣기

      두께는 `height`, 색깔은 `backgroudColor` 통해서 넣을 수 있음

    - 댓글 나오는 부분 일정 글자 수 이상 넘어가면 다음 줄에 표기되도록 해야함

  - **[긴급]BE와 연동할 때 : accesstoken 헤더에 붙여서 호출해야함!! (로그인 되어있는 것 확인용)**

    하지만 아직은 넣지 말고 기능만 파악하는 것으로!

- 오류 해결과정

- 결과

![image-20220806210046390](https://user-images.githubusercontent.com/97648271/186659927-08a8d043-5ee3-45c6-ad68-2785cd6b4c89.png)



### - 22.08.06

- 진행상황

  - 수업실 UI 
    - 일단 가져온 패키지 분석부터!
    - `this.calendar` 를 통해 대부분의 데이터들로 접근 가능
    - 1시간 남짓 분석해본 결과  custom하여 사용하기가 쉽지 않다는 결론...
    - 다른 schedular가 없나 찾아보니 두 가지 후보를 더 찾음
    - 그 중 하나를 선택: `@aldabil21/react-scheduler` : 개인이 만든 것 같은데 custom하기 쉬울듯

- 오류 해결과정

  없음

- 결과

  없음



### - 22.08.07

- 진행상황

  - `@aldabil21/react-scheduler` 에서 만든 것 파악하여 우리에게 어느 부분이 필요한 지 정리

    - 필요한 기능
      - 가로 축은 한 주, 세로 축은 시간이 나오도록 하는 틀
      - 틀 속에 지정한 시간 , 날짜 기준으로 네모난 모양으로 schedule 나오게 하는 기능
      - 틀 속에서 schedule이 없는 빈 공간을 클릭했을 때 schedule 등록을 할 수 있도록 하는 기능
      - 위에서 말한 빈 공간 클릭 시  나오는 새 schedule 등록 modal
      - schedule 아래부분에 링크를 달아 클릭 시 해당 schedule 에 대응하는 openvidu 링크로 연결하는 기능
    - 일단 기능만 파악 후 다른 것 먼저 진행

  - 글 list 페이지 pagenation

    - [이 사이트](https://www.daleseo.com/react-pagination/) 참고하여 만듦

    - 동그라미 만들기

      ```
      border-radius: 50%
      ```

      적용시키면 뚝딱!

  - 댓글 infinityscroll 

    - api 요청을 통한 데이터 전송이 필요하기때문에 참고할 블로그만 찾아놓고 구현은 내일 하기로 하자

      ---> api 요청으로 데이터를 어떠한 방식으로 받아와야하는 지에 대해 얘기해볼 것!

    - [이 사이트](https://medium.com/@_diana_lee/react-infinite-scroll-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0-fbd51a8a099f) 참고하자! [이 사이트](https://velog.io/@suyeonme/react-Infinite-Scroll-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0) 도 괜찮다.

    - 일단은 일반 scroll 꾸며서 구현해놓자.

    - 일반 scroll 구현

      ```
      overflow: "auto"
      ```

      로 하면 정해둔 width 값 이상으로 글이 넘어갈 시 자동으로 scroll이 생긴다.

    - 일단 scroll bar 꾸미기

      ![image-20220808002606489](https://user-images.githubusercontent.com/97648271/186659983-8b93d40d-b756-47aa-9e41-e90b6c0fd13f.png)

      이러한 속성들을 활용하여 꾸밀 수 있다!

      ```
      &::-webkit-scrollbar {
          width: 8px;
          background: ${palette.white};
        }
      &::-webkit-scrollbar-thumb {
      border-radius: 10px;
      background: ${palette.main_grBlue};
      }
      ```

      이런 식으로 styled-component 속성 꾸밀 때 활용할 수 있다!

- 오류 해결과정

  없음

- 결과

![image-20220808004355640](https://user-images.githubusercontent.com/97648271/186660027-e7844184-9ca1-4509-afff-060889533d1f.png)

![image-20220808004405811](https://user-images.githubusercontent.com/97648271/186660078-e5584b8d-c27e-430c-8925-8aee0c8fa9b1.png)

![image-20220808004417121](https://user-images.githubusercontent.com/97648271/186660143-ca8e6689-0500-4893-b9f7-92543c1e36b8.png)

![image-20220808004540211](https://user-images.githubusercontent.com/97648271/186660238-51cb1a19-c6ee-4b56-b248-e9c054c8525a.png)

![image-20220808004549731](https://user-images.githubusercontent.com/97648271/186660294-d81d5e0e-a869-4ead-8ccd-770866e009bb.png)



### - 22.08.08

- 진행상황

  - BE와 협업: 글 list 불러오는 통신

    axios 코드 작성하기

    ```react
    const writePosts = useCallback(
            async (e) => {
              e.preventDefault();
              try {
                await axios
                  .post(
                    "http://localhost:8081/post/write",
                    {
                      postId : post.postId,
                      postTitle : post.postTitle,
                      postContent : post.postContent,
                      postRegDate : post.postRegDate,
                      postUpdDate : post.postUpdDate,
                      user_id : post.user_id,
                      category_id : post.category_id
                    },
                    {
                      headers: {
                        "Content-type": "application/json",
                      },
                    }
                  )
                  .then((res) => {
                    console.log("response:", res);
          
                  });
              } catch (err) {
                console.log(err)
              }
            },
            [
              post.postId,
              post.postTitle,
              post.postContent,
              post.postRegDate,
              post.postUpdDate,
              post.user_id,
              post.category_id
            ]
          );
    ```

    이거 참고하여 코드 다 만들기!

    ```react
     useEffect(() => {
          async function getPosts(){
            const result = await axios.get(
              BACKEND_URL + "/post",
              {
                headers: {
                  "Content-type": "application/json",
                },
              }
            ).then((res) => {
              console.log(res)
            })
          }
      getPosts();
      });
    ```

    위의 과정대로 하니 데이터가 잘 안불러와진다...! map하는 과정에서 e값이 이상하게 들어가는 상황 발생
    
    따라서 약간의 코드 수정
    
    ```react
    const [post,setPost] = useState([])
      useEffect(() => {
        async function getPosts(){
          axios.get(
            BACKEND_URL + "/post",
            {
              headers: {
                "Content-type": "application/json",
              },
            }
          ).then((res) => {
            console.log(res.data)
            setPost(res.data)
          })
        }
        getPosts();
      });
    ```
    
    불러오는 값을 state에 넣고 그것을 불러오는 방식으로 변경
    
    글 list 불러오기 성공!!

  - pagination page 일반 숫자 되어있는 거 데이터 받아와서 표현하기

    ```react
    <Pagination
              total={"15"}
              limit={limit}
              page={page}
              setPage={setPage}
            />
    ```
    
    원래 total 값이 그냥 숫자로 되어있어 데이터 길이가 저기에 들어있지 않았는데
    
    ```react
    const [length,setLength] = useState([])
    const getLength = (length) => {
    setLength(length)
    }
    ```
    
    이런 식으로 state 만들어 값 바꾸는 함수 만들고 이것을 자식 component로 올려 거기서 값을 받아온 결과
    
    ```react
    <Pagination
              total={length}
              limit={limit}
              page={page}
              setPage={setPage}
            />
    ```
    
    이렇게 표현할 수 있게 되었다!
    
  - pagination 버튼 바닥에 붙어있게 하기

    ```react
    const StickyFooter = styled.footer`
    position: fixed; 
    bottom: 0; 
    width: 83%; 
    `
    ```

    position fixed, bottom 0값, width 값 설정하여 해결! 다만 width 값에 따라 위치가 달라지는 형태로 되어있어 그걸로 pagination 버튼들 일단 중앙에 맞춰둠...
    
  - BE와 협업: 단일 글 불러오는 통신

    잘 안되었다 

    내일 다시 해 보는걸로

    

- 오류 해결과정

  - 중간에 git merge하는 과정에서 어마무시한 merge conflict가 발생함...
  - branch 구조를 무시하고 바로 back-end branch를 merge하려고하니 이렇게 발생한 듯....
    - 한 땀 한 땀 고쳐서 다행히 merge 완료!

- 결과

![image-20220809090619810](https://user-images.githubusercontent.com/97648271/186660407-4894aff3-1fb1-41eb-803c-75e1bfb75e45.png)

![image-20220809090640582](https://user-images.githubusercontent.com/97648271/186660458-8b2475f9-9b75-4731-868c-6ea5221573a7.png)

![image-20220809090652531](https://user-images.githubusercontent.com/97648271/186660496-a84e60a6-0f5c-4a60-83b7-7dbc670bf827.png)

### - 22.08.09

- 진행상황
  - BE와 통신: 개별 글 불러오기
    - 개별 글을 받아오려면 개별 글에 대한 `postId` 를 받아와야하는데 이것을 어디서 어떻게 받아올 것인가....?
    
    - `postId` 받아오기 성공! but 시행착오를 겪음
    
      - 무한 리랜더링 문제
    
        `onClick` 이벤트를 실행할 시 
    
        ```
        onClick = {function()}
        ```
    
        이런식으로 실행시키면 나오는 문제
    
        ```
        onClick = {() => {function()}
        ```
    
        이렇게 `onClick` 이벤트도 Arrow function화 하여 처리해야 한 번만 실행됨!
    
  - BE와 통신: 댓글 작성하기

    성공적으로 작성됨! 하지만 작은 문제 발생

    --> 댓글 작성 버튼 누르면  input에 들어간 내용 사라져야하는데(적용시켜놨었는데) 그게 안된다!
    
  - BE와 통신: 글 삭제하기
  
    성공적으로 된 듯 하나 CORS 에러때문에 확인을 못하고 있음
  
    ---> BE 문제라 내일 얘기해봐야 함
  
  - BE와 통신: 글 수정하기
  
    버튼 누르면 글 작성하는 modal과 같은 형식의 modal을 데이터를 담아 띄워주는 방식으로 구현
  
    (새로운 component 생성: PostUpdate)
  
    성공적으로 된 듯 하나 CORS 에러때문에 확인을 못하고 있음
  
    ---> BE 문제라 내일 얘기해봐야 함
  
  - 카테고리 나눠서 글 list 페이지 표현
  
    진행하다가 다음 날로 넘김
  
- 오류 해결과정

  - post 테이블 데이터 받아오는 과정에서 발생하는 문제

    ![image-20220809212259011](https://user-images.githubusercontent.com/97648271/186660554-d6a73929-1628-452a-9f7c-17b26997b3a2.png)

- 결과

  사진으로 설명하기 애매함

### - 22.08.10

- 진행상황

  - 오류 해결 완료!

    개별 글 U,D 작동 완료!

    but  모달 닫히는 것은 아직 안 넣어서 넣어야함

  - 개별 글 C, U, D할 때 모달 꺼지도록 만들기, 모달 꺼질 때 데이터 한 번더 rendering 하게끔 해야함

    - 개별 글 C할 때 모달 꺼지게끔 완료 
    
    - 개별 글 U할 때 모달 꺼지게끔 완료
    
      - input value가 고정되는 문제
    
        해결!
    
        ```
        input 태그 안에 value=""  말고 defaultValue="" 안에 데이터 넣어두면 수정 가능!
    
    - 개별 글 D할 때 모달 꺼지게끔 완료
    
    - 하지만 한 번 더 rendering 시키는 것은 아직!
    
  - category 정보 전역 state로 받아오기, 그 데이터에 따른 category css 적용시키기 및 url 적용시키기 성공

  - channel 부분 만들기

    dropdown 필요하여 mui에서 받아와서 사용해보려했지만 원래 존재했던 channel 부분 데이터 들어오는 방식이 복잡하여 바로 쓰기에는 어려움

    --> map 방식으로 받아오는 걸로 수정해야함

    내일하자....

- 오류 해결과정

  없음

- 결과

  사진으로 설명하기 애매함



### - 22.08.11

- 진행상황
  - 채널 UI, 기능 마무리
  
    - 채널 UI 만드는 도중 `.map` 함수가 안 먹히는 문제 발생
  
      ```
      {dummyDepart.map((e,i) => {
                  <MenuItem onClick={handleClose} key={i}>{e.departName}</MenuItem> 
                })}
      ```
  
      이런 식으로 작성하니 `.map` 함수가 작동을 안 함
  
      해결...전에 한 번 있었던 문제
  
      ```
      {dummyDepart.map((e,i) => (
                  <MenuItem onClick={handleClose} key={i}>{e.departName}</MenuItem> 
                ))}
      ```
  
      이런 식으로  `.map` 내부의 arrow function 괄호를 ***중괄호가 아닌 소괄호*** 를 사용해야 정상적으로 작동한다!
  
    - 채널 기능
  
      - 채널 클릭 시 전역 state에 채널 정보 저장하기
  
        저장 성공! 이 데이터를 토대로 url 을 바꿔보자!
  
      - url 반영하기
  
        성공!
  
  - 수업실 기능만 넣기
    
    - 버튼 대강 배열, session id 무작위로 생성하여(일단은 내가 직접) props로 넘겨주고 버튼 누를 시 해당 링크로 이동
    
  - 수업실 대략적인 UI
    
    - 저번에 필요한 기능 뽑아놓은 것 보면서 어떤 부분 참고하면 좋을지 찾아보기
    
      - 가로 축은 한 주, 세로 축은 시간이 나오도록 하는 틀
      - 틀 속에 지정한 시간 , 날짜 기준으로 네모난 모양으로 schedule 나오게 하는 기능
      - 틀 속에서 schedule이 없는 빈 공간을 클릭했을 때 schedule 등록을 할 수 있도록 하는 기능
      - 위에서 말한 빈 공간 클릭 시  나오는 새 schedule 등록 modal
      - schedule 아래부분에 링크를 달아 클릭 시 해당 schedule 에 대응하는 openvidu 링크로 연결하는 기능
    
    - 그러려고했는데 이게 웬걸?? `node-modules` 안에 있는 파일을 수정해도 수정사항이 자동으로 git까지 올라갈 수 있게 만드는 package가 존재!!
    
      `yarn add patch-package postinstall-postinstall`
    
      `patch-package`, `postinstall-postinstall` 패키지를 이용한다!!
    
      1. 다음의 코드를 `package.json` 에 추가
    
         ```
         "scripts": {
         +  "postinstall": "patch-package"
          }
         ```
    
      2. 위에 기술해놓은 `yarn add patch-package postinstall-postinstall` 처리
    
      3. `node-modules` 안으로 들어가서 코드 변경!
    
         하기 전 어디를 바꿔야하는 지 먼저 파악하고 들어가자!
    
         - 바꿔야 할 것들
    
           1. 왼쪽에 나오는 시간 스타일
    
              --> 선에 걸쳐서 시 만 나오도록 바꾼다
    
           2. 빈 공간 눌렀을 때 나오는 form 내부 내용
    
              --> 교수 부분 추가
    
           3. 전반적인 영어 수정
    
           `DatePicker.tsx`, `Input.tsx`, `SelectInput.tsx` 들어있는 파일 위주로 찾아보자, Add Event 글자도 좋다
    
         - 찾은 결과
    
           `react-scheduler/src/lib/views/Editor.tsx` 에서 Add Event 글자 나오는 부분 랜더링
    
           
    
  - *채널에 속해있는 카테고리 전부 다 전역 state에 저장하기*
  
    더미채널 이용해서 할 수 있는지 이따가 해보기!
  
  - *관리자 페이지*
    - *category 부분에 관리자인지 일반 사용자인지에 따라 나오는 값들 다르게 만들어야!*
  
- 오류 해결과정

  없음

- 결과

  사진으로 표현하기 애매함



### - 22.08.12

- 진행상황

  - 수업실 UI 2트

    - 기존에 있는 package 사용하려고 했지만 잘 안돼서

      분석해서 사용해보자 vs 그냥 따로 만들자....

      에서 그냥 따로 만드는 것으로 결론났음

    - 따라서 일단 다른 형태로 스스로 만들어보자

  - 수업실 UI 만들기

    - 만드려고하는데 시간이 너무 부족하다! 
    - 일단....팀장한테 넘기고 다른 것 할 거 하자.....

  - 댓글 나오는 부분 일정 글자 수 이상 넘어가면 다음 줄로 내려가도록 하기

    해결: wordBreak 사용

    `CommentList.jsx` 에서

    ```
    <div style={{margin: "0 0 0 15px"}}>
                            <p style={{wordBreak: "break-all", width: "880px"}}>여기는 댓글 내용이 들어갑니다.</p>
                        </div>
    ```

    댓글 들어갈 부분에 style 이런 식으로 적용!

  - 글 list 페이지 제목 일정 길이 이상이면 ... 뒤에 붙여서 표현하기

    해결

    `NormalPostFrame.jsx` 에서

    ```
    <div style={{width: "800px", fontSize: "20px", fontWeight: "bold", overflow: "hidden", textOverflow: "ellipsis", whiteSpace: "nowrap"}}>
                    {e.postTitle}   
                  </div>
    ```

    일단 width 설정해주고 `overflow: "hidden"`, `textOverflow: ellipsis`, `whiteSpace: nowrap` 

    이 세 가지 설정 해주면 된다!

    이거 하고 글 detail 페이지  들어가보니 안에서는 제목이 넘쳐흘러서 안에도 작업해야함!

    --> 글 detail 페이지 제목 부분 `width: 750px` 로 수정

  - 글 Reg date, Upd date  예쁘게 나오도록 커스텀

    예전 프로젝트 때 썼던 것 활용

    ```
    function timeForToday(value) {
      const today = new Date();
      const timeValue = new Date(value);
    
      const betweenTime = Math.floor((today.getTime() - timeValue.getTime()) / 1000 / 60);
      if (betweenTime < 1) return '방금 전';
      if (betweenTime < 60) {
          return `${betweenTime}분 전`;
      }
    
      const betweenTimeHour = Math.floor(betweenTime / 60);
      if (betweenTimeHour < 24) {
          return `${betweenTimeHour}시간 전`;
      }
    
      const betweenTimeDay = Math.floor(betweenTime / 60 / 24);
      if (betweenTimeDay < 365) {
          return `${betweenTimeDay}일 전`;
      }
    
      return `${Math.floor(betweenTimeDay / 365)}년 전`;
    }
    ```

    이걸 이용해서 value 부분에 날 것 그대로의 작성시간, 업데이트시간 넣으면 예쁘게 나온다!

  - 글 작성 페이지 slide 버튼들 기능 넣기

    - 데이터: 0 or 1

    작성 완료! 일단 true/false 로 받고 그 값이 true면 1, false면 0 반환하도록 함

    ```react
     const [post, setPost] = useState({
            postId : "",
            postTitle : "",
            postContent : "",
            postRegDate : "",
            postUpdDate : "",
            user_id : "",
            category_id : "",
            postAnoInfo: false,
            postComBanInfo: false
        })
    
        const getAnoInfo = () => {
            console.log("익명여부 :", post.postAnoInfo)
            post.postAnoInfo = !post.postAnoInfo
            
        }
        const getAnoInfoNum = () => {
            if (post.postAnoInfo){
                return 1
            } 
            else{
                return 0
            }
        }
    
        const getComBanInfo = () => {
            console.log("댓글금지여부 :", post.postComBanInfo)
            post.postComBanInfo = !post.postComBanInfo
        }
        const getComBanInfoNum = () => {
            if (post.postComBanInfo){
                return 1
            } 
            else{
                return 0
            }
        }
    ```

  - 댓글 작성하고 input 부분에 글자 다 지워지도록 해야함

    - 그 전에 댓글 axios 해서 db에 post 할 때 인자들 좀 넣어주자!

      ```
      const [comment, setComment] = useState({
              commentId: "",				--> 자동부여
              postId: single.postId,
              categoryId: categoryId,
              departId: departId,
              userId: "",
              commentRegDate: "",			--> 자동부여
              commentDeleteInfo: "",
              commentAnoInfo: false,
              commentContent: "",			--> 들어갈 예정
              commentGroup: "",
              commentLevel: "",
              seq: ""
          })
      ```

    -  위의 문제도 해결!
    
      ```
       document.getElementById("commentInput").value=''
      ```
    
      `writeComment` 부분 `try` 부분에 넣으니 되었다!
    
  - 글 list 리랜더링 필요한 부분들은 리랜더링 시키기

    - 글 post할 때, 글 delete 할 때, 글 put할 때, 댓글 post할 때, 댓글 delete할 때 axios 요청 보낼 때 해야함
      - 글 post할 때 : 완료
      - 글 delete할 때: 완료
      - 글 put할 때: 완료
      - 댓글 post할 때: 완료 but 아직 확인 x
      - 댓글 delete할 때: 아직 axios 부분이 없어서  x

  - ck-editor에 그림 넣기

    - 일단은 실패....

  - 파일 업로드 가능한 게시판에 파일 업로드해보기

    - CORS 에러 발생....

      내일 한 번 확인해 보는걸로
      
      [이 사이트](https://heytech.tistory.com/406) 참고함

- 오류 해결과정

  없음, 위에 기술함

- 결과

  보여줄 화면이 딱히 없음



### - 22.08.13

- 진행상황

  - 일단 커뮤니티 페이지 좌측 상단에 위치하는 채널 생성 및 가입 부분부터 손 보기로 함

    - 채널 생성

      생성 부분 만들기 완료!

    - 채널 가입

      가입 부분 인증코드 넣는 부분까지 만들기 완료!

  - 위에서 진행한 것들 기능 넣기

    - 채널 생성

      input 값 넣어놓아서 axios 보낼 준비 완료!

    - 채널 가입

      마찬가지로 input 값 넣어서 axios 보낼 준비 완료!

  - 다 넣어서 Modal 뜨는 것 확인하는데 Modal이 최상단에 위치하지 않아 생기는 문제 발생!

    그럴 때는 `z-index` 값을 활용하여 레이어 간 높이를 조절한다.

    ```
    z-index: 1
    ```

    다른 애들의 `z-index `값 이 없는 경우 1만 주어도 다른 애들보다 상단에 위치하게 된다!

  - `Welcome` 페이지 제작

    제작 완료!

  - `Community` 페이지 전체적인 UI 크기 손보기

    - 처음 작업할 때 125% 로 두고 작업해서 크기의 차이가 있음...100% 기준으로 맞추자

  - `Community` 페이지 부분 체널 나오는 곳 UI 손보기

    - 일단 대강 손봤는데 내일 괜찮은지 봐 달라 해야할듯

  - 관리자 페이지: 커뮤니티 생성 Modal 내부 값 생성

    - UI는 대강 마무리
    - 내일 기능 넣기로!

- 오류 해결과정

  없음

- 결과

  ![image-20220814155019482](https://user-images.githubusercontent.com/97648271/186660650-c9caa96b-48ca-4efe-8fcb-9c4788475ff7.png)

  ![image-20220814155036114](https://user-images.githubusercontent.com/97648271/186660690-5e870dbf-a303-4886-8489-d28c743952df.png)

  ![image-20220814155047305](https://user-images.githubusercontent.com/97648271/186660750-9a54bd9b-047a-461a-87b2-01304e4544d3.png)

  ![image-20220814155107977](https://user-images.githubusercontent.com/97648271/186660791-fdb87f05-082d-48ed-8554-36bb66f8a1e6.png)

  ![image-20220814155122115](https://user-images.githubusercontent.com/97648271/186660828-d9c86361-8f82-4d82-8a87-7c1cded53c01.png)

  ![image-20220814155153042](https://user-images.githubusercontent.com/97648271/186660879-4b4ca296-3c17-4aa1-abe9-ec132cda83ab.png)



### - 22.08.14

- 진행상황

  - 관리자 페이지: 커뮤니티 생성 페이지 기능 넣기

    - 데이터 받아올 준비 완료
    - 세팅 완료!
    - cType 영어로 setting 해놨다고 함.... 나중에 바꾸자

  - axios 세팅하기 및 refactoring

    - axios 할 부분들

      - refactor

        - [x] channel, category 별 글 list GET: 완료
        - [x] channel, category 별 글 POST(유저 필요): 완료 
        - [x] channel, category 별 세부 글 GET: 완료
        - [x] channel, category 별 세부 글 PUT: 완료
        - [x] channel, category 별 세부 글 DELETE: 완료
        - [x] channel, category 별 세부 글에 대한 개별 댓글 POST: 완료 (대댓글 관련 제외)

      - 새로 작성

        - [ ] channel, category 별 세부 글 좋아요 GET

          - 작성은 완료, `useEffect` 사용하여 즉각 데이터 반영하도록 함
          - 주석처리해둠

        - [x] channel, category 별 세부 글에 대한 댓글 list GET

          - 작성은 완료, 주석처리해둠

          - `categoryList` component에 `.map` 이용하여 설정해놓아야함

            --> 아직

        - [x] channel, category 별 세부 글에 대한 개별 댓글 DELETE

          - 작성은 완료, 위에서 하기로 한 `.map` 관련 처리하고 `commentId` 부분 널어줄 것

             (`e` 부분 이용하여)

          - 주석처리해둠

        - [ ] channel, category 별 세부 글에 대한 개별 댓글 좋아요 GET (유저 필요)

          - 작성은 완료, 위와 마찬가지로 `commentId` 넣어줄 것, `useEffect` 사용하여 즉각 데이터 반영하도록 함
          - 주석처리해둠

        - [x] Community 페이지 채널 생성 부분 채널 POST

          - 작성은 완료, rerendering 어떻게 시킬지에 대해 이따가 물어봐야할듯

            (user에 속해있는 channel 불러오는 것 코드에 대해)

          - 주석처리해둠

        - [ ] Community 페이지 채널 클릭 시 정보 GET

          - 로그인했을 때 axios 해서 받아오는 정보 활용해서 axios 안 하고 사용가능 

        - [x] Welcome 페이지 채널 생성 부분 채널 POST

          - component 재사용하여 따로 설정 x

        - [x] Community 페이지 채널 입장 부분 채널 GET

          - 일단 작성 완료
          - 
        
        - [x] Welcome 페이지 채널 입장 부분 채널 GET
        
          - 위와 같은 로직
          - 작성한 채널 이름으로 들어가도록 redirect 시켜야 함
        
        - [x] Community 페이지 관리자일 때  카테고리 추가 부분 POST
        
          - 일단 작성 완료, 위에서 쓴 것처럼 로그인했을 때 axios 해서 정보 받아오는 것 한 번 더 요청보내서 reRendering 시킬 수 있음
        
        - [ ] 못한 것들
        
          - Community 페이지 관리자일 때 카테고리 부분 DELETE
          - (Community 페이지 글 검색 GET)

  - `Community` 페이지 채널 부분 UI 수정
    - Figma에 되어있는대로 비슷하게 동그라미 모양 구현,  내부에는 channel 에 대한 index +1 줘서 숫자로 표현
    
      작성 완료, index 붙이는 건 DB 데이터 불러와서 하는 걸로!
    
    - 전체적인 위치 위쪽으로 당기기
    
      완료!
    
  - 글 작성할 때 댓글 금지, 익명 기능 카테고리 생성할 때 설정한 것에 따라 적용하기
    - 카테고리 생성할 때 설정해놨으면 안 보이게 해야함
    
      완료!
    
  - 카테고리 추가 UI 제작하기

    - 완료
    - 시연할 때 카테고리 추가 하나밖에 못 할듯...자리가 없다
    - 크기 조금 조절해서 두 개까지 넣을 수 있다!

  - 카테고리 삭제하는 x 버튼 삽입하기, 기능 넣기

    ​	버튼은 삽입함

    - api 가 아직 안 나와서 못함....

  - 오류 발생

    - 카테고리에 해당하는 글이 없으면 

      `post.slice.map` 하는 곳에서 오류가 발생한다!

    - if문으로 분기 나눠서 해결!

- 오류 해결과정

  없다!

- 결과

  없다!



### - 22.08.15

- 진행상황

  - 어체 하던 것 이어서!

    - [ ] channel, category 별 세부 글 좋아요 GET

      - 작성은 완료, `useEffect` 사용하여 즉각 데이터 반영하도록 함
      - 주석처리해둠
    - [ ] channel, category 별 세부 글에 대한 개별 댓글 좋아요 GET (유저 필요)

      - 작성은 완료, 위와 마찬가지로 `commentId` 넣어줄 것, `useEffect` 사용하여 즉각 데이터 반영하도록 함
      - 주석처리해둠
    - [x] Community 페이지 채널 클릭 시 정보 GET

      - 로그인했을 때 axios 해서 받아오는 정보 활용해서 axios 안 하고 사용가능 
    - [ ] Community 페이지 관리자일 때 카테고리 부분 DELETE
    - [ ] Community 페이지 관리자일 때 한 카테고리 내에 있는 모든 글 DELETE
    - [ ] (Community 페이지 글 검색 GET)

  - 자잘한 오류들

    - 글 수정하면 작성시간 없어지는 문제
    - 글 수정해도 수정시간 안 뜨는 문제
    - 글 수정 전에 수정 부분 띄우면 이상한 값 나오는 문제??

  - UI 작업

    - 카테고리 생성 부분 

      완료!

  - 카테고리, 채널 연결 완료!

  - 연결된 값 토대로 각 게시판마다 다른 글 불러오기

    - 완료!

  - 랜더링 문제

    - 처음 로그인 했을 때 
      - 채널 있을 때: 있는 채널의 첫 번째 카테고리 띄워줘야
        - 완료!
      - 채널 있을 때: 코드 입력하여 들어갈 때 그 채널의 첫 번째 카테고리 띄워줘야
      - 채널 없을 때: 채널 생성하거나 코드 입력하여 들어갈 때 그 채널의 첫 번째 카테고리 띄워줘야
      - 채널 생성시: 채널 생성한 것 즉각 반영되어야
      - 
    - 좋아요 부분
    - 댓글 갯수 부분
    - 대댓글......
    - (자료게시판......)

- 오류 해결과정

  없음

- 결과

  없음





### - 22.08.16

- 진행상황

  - 어체 하던 것 이어서!

    - [ ] channel, category 별 세부 글 좋아요 GET

      - 작성은 완료, `useEffect` 사용하여 즉각 데이터 반영하도록 함
      - 주석처리해둠
    - [ ] channel, category 별 세부 글에 대한 개별 댓글 좋아요 GET (유저 필요)

      - 작성은 완료, 위와 마찬가지로 `commentId` 넣어줄 것, `useEffect` 사용하여 즉각 데이터 반영하도록 함
      - 주석처리해둠
    - [x] 갑자기 게시글 별 댓글들이 안 불러와진다....
      - api url 수정된 것을 반영하지 못 한 내 탓....
    - [ ] Community 페이지 관리자일 때 카테고리 부분 DELETE
      - [x] 기능
      - [ ] 리랜더링
    - [ ] Community 페이지 관리자일 때 한 카테고리 내에 있는 모든 글 DELETE
      - [x] 기능
      - [ ] 리랜더링

  - 랜더링 문제

    - 채널 있을 때
      - [x] 채널 생성 후 생성한 채널의 첫 번째 카테고리(공지사항) 으로 이동되어야 함
      - [ ] 채널 참여 후 참여한 채널의 첫 번재 카테고리(공지사항) 으로 이동되어야 함
    - 체널 없을 때
      - [x] 채널 생성 후 생성한 채널의 첫 번째 카테고리(공지사항) 으로 이동되어야 함
      - [x] 채널 참여 후 참여한 채널의 첫 번재 카테고리(공지사항) 으로 이동되어야 함
    - [x] 채널 생성시: 채널 생성한 것 즉각 반영되어야(채널 묶음에)
    - [x] 카테고리 생성했을 때: 카테고리 id를 받아와야할듯....

  - 자잘한 오류들

    - [ ] 글 수정하면 작성시간 없어지는 문제

    - [ ] 글 수정해도 수정시간 안 뜨는 문제

    - [ ] 글 수정 전에 수정 부분 띄우면 이상한 값 나오는 문제??

    - [x] 카테고리 추가하면 자동으로 리랜더링시켜야

      

  - 만약 위의 것들이 수정이 잘 안 된다면...?

    --> depart 기본값을 하나 주고(관리자와의 대화)

    

- 오류 해결과정

  많다...아주...하지만 서술할 수 없다...

- 결과

  없음





### - 22.08.17

- 진행상황

  - 어체 하던 것 이어서!

  - [x] channel, category 별 세부 글 좋아요 GET

    - 작성은 완료, `useEffect` 사용하여 즉각 데이터 반영하도록 함

    - 주석처리해둠

    - 완료! but 글 detail 부분에서 count 된 것이 바로 랜더링되지 않는다..!

      --> 글 detail 부분에서는 count 그냥 빼 버리는 것도 방법

      - [ ] 아예 detail 딴에서 count -1 해버리면 어떨까? by 주희

  - [x]  글 별 댓글 모음 GET

    - 완료! but 위와 같은 문제;....

  - [x] channel, category 별 세부 글에 대한 개별 댓글 좋아요 GET (유저 필요)

    - 작성은 완료, 위와 마찬가지로 `commentId` 넣어줄 것, `useEffect` 사용하여 즉각 데이터 반영하도록 함
    - 주석처리해둠

  - [x] Community 페이지 관리자일 때 카테고리 부분 DELETE

    - [x] 리랜더링

  - [x] Community 페이지 관리자일 때 한 카테고리 내에 있는 모든 글 DELETE

    - [x] 리랜더링

  - 랜더링 문제

  - 채널 있을 때

    - [x] 채널 참여 후 참여한 채널의 첫 번재 카테고리(공지사항) 으로 이동되어야 함

  - 자잘한 오류들

    - [x] 글 수정하면 작성시간 없어지는 문제

    - [x] 글 수정해도 수정시간 안 뜨는 문제

    - [x] 글 수정 전에 수정 부분 띄우면 이상한 값 나오는 문제??

    - [x] 카테고리 추가하면 자동으로 리랜더링시켜야

- 컨설턴트님 피드백

  - [x] 글 리스트 나오는 부분 배경색 흰색
  - [x] 글 리스트 나오는 부분 내부 내용 수정
  - [x] 글 리스트 나오는 부분 width 줄이기
  - [x] 글 리스트 나오는 부분 container 크기 줄이기, 왼쪽 정렬
  - [x] 글 리스트 나오는 부분 시간` yyyy년 mm월 dd일 시간`  으로 바꾸기

- 기타 수정해야 할 부분

  - [ ] 카테고리 새롭게 추가되는 것 margin값 수정
    - 잘 안 된다....하나까지는 괜찮으니 시연할 때는 하나만 추가하자
  - [x] 카테고리  이름 나오는 부분 아이콘까지 같이!
  - [x] 채널 이름 첫 글자 따서 동그라미 부분에 넣기
  - [x] 댓글 달면 왜 기본값이 익명인가??
  - [ ] 댓글 scroll 맨 끝으로 향해야!

- 관리자만 가능한 기능 넣기

  - [x] 공지사항 글쓰기
  - [x] 카테고리 추가/삭제
  - [x] 전체 삭제

- 오류 해결과정

- 결과



### - 22.08.18

- 진행상황
  - 오류 수정
    - [x] 관리자 아닌 사람이 카테고리 추가한 것 삭제할 수 있는 것
    - [x] 카테고리 생성할 때 포커싱 새로운 카테고리로 옮겨야
    - [ ] 카테고리 생성 시 T/F 이용하여 프론트에서 구현
      - [x] 글 익명 여부
      - [x] 댓글 달 수 있는지 여부
      - [x] 댓글 익명 여부
  - 
    - [x] 글 없으면 pagination 안 보이게
    - [ ] 애니메이션
      - [ ] 카테고리 추가 부분 슬라이드
      - [ ] 카테고리 누르면 색 촤라락 채워지는 것
- 오류 해결과정
- 결과

---

